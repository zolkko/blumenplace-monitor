language: node_js
node_js:
  - "5.1"
python:
  - "3.5"
addons:
  apt:
    sources:
      - deadsnakes
    packages:
      - python3.5
      - distribute
before_install:
  - echo "minimal package content:"
  - echo $(dpkg -L distribute)
script: >
  pushd monitor-api &&
  sudo easy_install3 pip &&
  sudo pip3 install -r ./requirements.txt &&
  PYTHONPATH="${PYTHONPATH}:$(pwd)" py.test &&
  popd
  pushd monitor-ui &&
  npm install &&
  npm test &&
  popd

